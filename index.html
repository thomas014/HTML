<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœæ‹œ6æ—¥6å¤œå§å¦¹è¼•å¥¢ä¹‹æ—… | æ•¸ç¢¼è¡Œç¨‹ä¼´ä¾¶</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #FDFBF7; /* Soft Cream */
            color: #4A4A4A;
        }
        h1, h2, h3, .serif-font {
            font-family: 'Playfair Display', serif;
        }
        .active-tab {
            border-bottom: 2px solid #C5A065; /* Gold */
            color: #8C6B38;
            font-weight: 600;
        }
        .timeline-line {
            position: absolute;
            left: 1rem;
            top: 0;
            bottom: 0;
            width: 2px;
            background-color: #E5E7EB;
            z-index: 0;
        }
        .card-shadow {
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
        }
        .gold-gradient {
            background: linear-gradient(135deg, #D4AF37 0%, #C5A065 100%);
        }
        /* Chart Container Specific Styles */
        .chart-wrapper {
            position: relative;
            width: 100%;
            max-width: 500px;
            height: 300px;
            margin: 0 auto;
        }
        canvas {
            width: 100% !important;
            height: 100% !important;
        }
        /* Hide scrollbar for horizontal scrolling */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
    <!-- Chosen Palette: Warm Neutrals & Luxury Gold (Cream #FDFBF7, Gold #C5A065, Sand #E8E1D5, Dark Grey #4A4A4A) -->
    <!-- Application Structure Plan: Dashboard style. 
         1. Hero Section: Trip overview & key stats.
         2. Day Navigator: Horizontal scrollable tabs for Days 1-7.
         3. Dynamic Content Area: 
            - Daily Vibe (Summary)
            - Interactive Timeline (Schedule)
            - Highlight Card (Key attraction photo/info)
            - Dining Spotlight (Restaurant info)
         4. Budget Visualizer: Chart.js doughnut chart to show cost breakdown.
         5. Essentials Toolkit: Dress code, packing, and transport tips.
         Designed to be a 'digital concierge' for the user during the trip. -->
    <!-- Visualization & Content Choices:
         - Timeline: Vertical layout with icons to represent flow of the day. Goal: Change/Track.
         - Budget Chart: Doughnut chart. Goal: Inform/Organize. Justification: Easy to see proportion of spending (Food vs Tickets).
         - Info Cards: Clean UI components for attractions/restaurants. Goal: Inform.
         - Interaction: Clicking Day tabs updates all sections below instantly.
         - NO SVG/Mermaid: Used CSS shapes and Unicode characters for icons. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="antialiased min-h-screen flex flex-col">

    <!-- Hero Section -->
    <header class="bg-white pt-8 pb-6 px-4 border-b border-gray-100 sticky top-0 z-50 shadow-sm">
        <div class="max-w-4xl mx-auto flex justify-between items-center">
            <div>
                <p class="text-xs tracking-widest uppercase text-gray-500 mb-1">UAE Travel Planner</p>
                <h1 class="text-2xl md:text-3xl font-bold text-gray-800 serif-font">æœæ‹œ6æ—¥6å¤œå§å¦¹è¼•å¥¢ä¹‹æ—…</h1>
            </div>
            <div class="text-right hidden md:block">
                <p class="text-sm text-gray-500">ä½å®¿åŸºåœ°</p>
                <p class="font-medium text-[#C5A065]">Aloft Dubai Creek</p>
            </div>
        </div>
        
        <!-- Day Navigation -->
        <nav class="max-w-4xl mx-auto mt-6 overflow-x-auto no-scrollbar whitespace-nowrap pb-2" id="dayNav">
            <!-- Tabs injected by JS -->
        </nav>
    </header>

    <!-- Main Content -->
    <main class="flex-grow px-4 py-6 max-w-4xl mx-auto w-full space-y-8">

        <!-- Intro Text for Context -->
        <section class="mb-4">
            <p class="text-gray-600 text-sm md:text-base leading-relaxed">
                æ­¡è¿ä½¿ç”¨æ‚¨çš„å°ˆå±¬æ•¸ä½è¡Œç¨‹åŠ©æ‰‹ã€‚æ­¤æ‡‰ç”¨ç¨‹å¼å°‡æ‚¨çš„ 6 æ—¥ 6 å¤œè¡Œç¨‹è½‰åŒ–ç‚ºäº’å‹•å¼å„€è¡¨æ¿ã€‚
                é»æ“Šä¸Šæ–¹æ—¥æœŸæ¨™ç±¤å³å¯æŸ¥çœ‹æ¯æ—¥è©³ç´°æ™‚é–“è¡¨ã€é‡é»æ´»å‹•åŠé¤é£²æ¨è–¦ã€‚
                åº•éƒ¨è¨­æœ‰é ç®—åˆ†æèˆ‡å¯¦ç”¨è²¼å£«ï¼ŒåŠ©æ‚¨è¼•é¬†æŒæ§è¡Œç¨‹ç¯€å¥ã€‚
            </p>
        </section>

        <!-- Dynamic Day Content Container -->
        <div id="dayContent" class="grid grid-cols-1 lg:grid-cols-3 gap-6 transition-opacity duration-300">
            
            <!-- Left Column: Timeline -->
            <div class="lg:col-span-2 space-y-6">
                
                <!-- Day Summary Card -->
                <div class="bg-white p-6 rounded-xl card-shadow border-l-4 border-[#C5A065]">
                    <h2 id="dayTitle" class="text-xl font-bold text-gray-800 serif-font mb-2"></h2>
                    <p id="dayVibe" class="text-gray-600 italic text-sm"></p>
                    <div class="mt-4 flex flex-wrap gap-2" id="dayTags">
                        <!-- Tags injected by JS -->
                    </div>
                </div>

                <!-- Detailed Timeline -->
                <div class="bg-white p-6 rounded-xl card-shadow">
                    <h3 class="text-lg font-semibold mb-6 serif-font flex items-center">
                        <span class="mr-2">â±ï¸</span> ä»Šæ—¥æ™‚é–“è»¸
                    </h3>
                    <div class="relative space-y-8 pl-6" id="timelineContainer">
                        <div class="timeline-line"></div>
                        <!-- Timeline items injected by JS -->
                    </div>
                </div>
            </div>

            <!-- Right Column: Highlights & Dining -->
            <div class="space-y-6">
                
                <!-- Featured Highlight -->
                <div class="bg-white rounded-xl card-shadow overflow-hidden">
                    <div class="h-32 bg-gray-200 relative">
                        <!-- Simulated Image with Canvas/CSS -->
                        <div class="absolute inset-0 bg-gray-300 flex items-center justify-center text-gray-500 text-sm font-medium" id="highlightImgPlaceholder">
                            [æ™¯é»åœ–ç‰‡]
                        </div>
                        <div class="absolute top-2 right-2 bg-white/90 px-2 py-1 rounded text-xs font-bold text-[#C5A065]">
                            å¿…å»äº®é»
                        </div>
                    </div>
                    <div class="p-5">
                        <h3 id="highlightTitle" class="font-bold text-lg mb-2 serif-font"></h3>
                        <p id="highlightDesc" class="text-sm text-gray-600 mb-4 leading-relaxed"></p>
                        <a id="highlightLink" href="#" target="_blank" class="block w-full text-center py-2 border border-[#C5A065] text-[#C5A065] rounded hover:bg-[#C5A065] hover:text-white transition text-sm">
                            æŸ¥çœ‹å®˜ç¶² / è³¼ç¥¨
                        </a>
                    </div>
                </div>

                <!-- Featured Dining -->
                <div class="bg-white p-5 rounded-xl card-shadow">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="font-bold text-lg serif-font">ğŸ½ï¸ ä»Šæ—¥ç²¾é¸é¤é£²</h3>
                        <span class="text-xs bg-gray-100 px-2 py-1 rounded">æ¨è–¦</span>
                    </div>
                    <h4 id="diningTitle" class="font-semibold text-gray-800"></h4>
                    <p id="diningType" class="text-xs text-gray-500 mb-2"></p>
                    <p id="diningDesc" class="text-sm text-gray-600 leading-relaxed"></p>
                </div>

                <!-- Transport Tip for the Day -->
                <div class="bg-[#F8F5F0] p-5 rounded-xl border border-[#E8E1D5]">
                    <h3 class="font-bold text-sm mb-2 text-[#8C6B38]">ğŸš• äº¤é€šå»ºè­°</h3>
                    <p id="transportTip" class="text-xs text-gray-600 leading-relaxed"></p>
                </div>
            </div>
        </div>

        <!-- Analytics & Tips Section (Always Visible) -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mt-8">
            
            <!-- Budget Analysis -->
            <div class="bg-white p-6 rounded-xl card-shadow">
                <h3 class="text-lg font-bold mb-2 serif-font">ğŸ’° é ç®—åˆ†æ (æ¯äºº)</h3>
                <p class="text-sm text-gray-500 mb-6">ç¸½é ç®—ç›®æ¨™: HKD 10,000 (ç´„ AED 4,700)</p>
                
                <div class="chart-wrapper">
                    <canvas id="budgetChart"></canvas>
                </div>
                <div class="mt-4 grid grid-cols-2 gap-4 text-center">
                    <div class="p-2 bg-gray-50 rounded">
                        <p class="text-xs text-gray-500">é ä¼°ç¸½èŠ±è²»</p>
                        <p class="font-bold text-gray-800">AED 4,700</p>
                    </div>
                    <div class="p-2 bg-green-50 rounded">
                        <p class="text-xs text-green-600">ç‹€æ…‹</p>
                        <p class="font-bold text-green-700">ç¬¦åˆé ç®—</p>
                    </div>
                </div>
            </div>

            <!-- Smart Tips Accordion -->
            <div class="bg-white p-6 rounded-xl card-shadow flex flex-col">
                <h3 class="text-lg font-bold mb-4 serif-font">ğŸ’ å§å¦¹éŠå¿…å‚™éŒ¦å›Š</h3>
                
                <div class="space-y-3 flex-grow overflow-y-auto max-h-80 pr-2 custom-scrollbar">
                    <!-- Tip 1 -->
                    <div class="border border-gray-100 rounded-lg overflow-hidden">
                        <button class="w-full flex justify-between items-center p-3 bg-gray-50 text-sm font-medium hover:bg-gray-100 transition" onclick="toggleTip('tip1')">
                            <span>ğŸ‘— ç©¿æ­èˆ‡æœè£è¦å®š</span>
                            <span class="text-gray-400">â–¼</span>
                        </button>
                        <div id="tip1" class="hidden p-3 text-sm text-gray-600 bg-white">
                            <ul class="list-disc pl-4 space-y-1">
                                <li><strong>æ¸…çœŸå¯ºï¼š</strong>å¿…é ˆåŒ…é ­ã€é•·è¢–ã€é•·è¤²/è£™ï¼ˆä¸é€è†šã€ä¸ç·Šèº«ï¼‰ã€‚</li>
                                <li><strong>æ²™æ¼ ï¼š</strong>æ¨è–¦äº®è‰²ç³»ï¼ˆç´…/é»ƒ/ç™½ï¼‰é•·è£™ï¼Œæ‹ç…§æœ€ç¾ã€‚</li>
                                <li><strong>é«˜ç´šé¤å»³ï¼š</strong>Smart Casualï¼Œé¿å…æ‹–é‹çŸ­è¤²ã€‚</li>
                                <li><strong>Aura Skypoolï¼š</strong>å®¤å…§ç”¨é¤å¯ç©¿æ¸¡å‡æ´‹è£ã€‚</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Tip 2 -->
                    <div class="border border-gray-100 rounded-lg overflow-hidden">
                        <button class="w-full flex justify-between items-center p-3 bg-gray-50 text-sm font-medium hover:bg-gray-100 transition" onclick="toggleTip('tip2')">
                            <span>ğŸ“± APP ä¸‹è¼‰æ¸…å–®</span>
                            <span class="text-gray-400">â–¼</span>
                        </button>
                        <div id="tip2" class="hidden p-3 text-sm text-gray-600 bg-white">
                            <ul class="list-disc pl-4 space-y-1">
                                <li><strong>Careem / Uberï¼š</strong>å«è»Šå¿…å‚™ã€‚</li>
                                <li><strong>The Entertainerï¼š</strong>è²·ä¸€é€ä¸€å„ªæƒ ï¼ˆé¤å»³/æ™¯é»ï¼‰ã€‚</li>
                                <li><strong>WhatsAppï¼š</strong>ç•¶åœ°ä¸»è¦è¯çµ¡æ–¹å¼ã€‚</li>
                                <li><strong>Google Mapsï¼š</strong>å°èˆªèˆ‡å¤§çœ¾é‹è¼¸æŸ¥è©¢ã€‚</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Tip 3 -->
                    <div class="border border-gray-100 rounded-lg overflow-hidden">
                        <button class="w-full flex justify-between items-center p-3 bg-gray-50 text-sm font-medium hover:bg-gray-100 transition" onclick="toggleTip('tip3')">
                            <span>ğŸ¨ Aloft ä½å®¿æ”»ç•¥</span>
                            <span class="text-gray-400">â–¼</span>
                        </button>
                        <div id="tip3" class="hidden p-3 text-sm text-gray-600 bg-white">
                            <ul class="list-disc pl-4 space-y-1">
                                <li><strong>Nol Cardï¼š</strong>åœ¨ City Centre Deira ç«™è²·éŠ€å¡ã€‚</li>
                                <li><strong>è£œè²¨ï¼š</strong>éš”å£ City Centre å•†å ´æœ‰å®¶æ¨‚ç¦ã€‚</li>
                                <li><strong>é…’å§ï¼š</strong>é ‚æ¨“ WXYZ Bar æ°£æ°›ä¸éŒ¯ã€‚</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Tip 4 -->
                    <div class="border border-gray-100 rounded-lg overflow-hidden">
                        <button class="w-full flex justify-between items-center p-3 bg-gray-50 text-sm font-medium hover:bg-gray-100 transition" onclick="toggleTip('tip4')">
                            <span>ğŸŒ¡ï¸ å¤©æ°£èˆ‡é£²æ°´</span>
                            <span class="text-gray-400">â–¼</span>
                        </button>
                        <div id="tip4" class="hidden p-3 text-sm text-gray-600 bg-white">
                            <ul class="list-disc pl-4 space-y-1">
                                <li>é¤å»³æ°´å¾ˆè²´ï¼Œå‡ºé–€å‰åœ¨è¶…å¸‚è²·æ°´å¸¶è‘—ã€‚</li>
                                <li>å®¤å…§å¤–æº«å·®å¤§ï¼Œéš¨èº«å¸¶è–„å¤–å¥—ã€‚</li>
                                <li>é˜²æ›¬æ˜¯å¿…é ˆçš„ã€‚</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </main>

    <footer class="bg-gray-800 text-white py-8 mt-12 text-center text-sm">
        <p class="opacity-70">Made for your Dubai Trip</p>
        <p class="mt-2 text-xs opacity-50">Budget Estimate: AED 4,700 approx.</p>
    </footer>

    <script>
        // --- Data Structure ---
        const tripData = {
            days: [
                {
                    id: 1,
                    title: "Day 1: ç©¿æ¢­é›²ç«¯èˆ‡èˆŠåŸ",
                    vibe: "å¾ 150 ç±³é«˜çš„ç›¸æ¡†ï¼Œåˆ°å¹³åœ°çš„è€åŸï¼Œæœ€å¾Œç›´è¡ 828 ç±³çš„ä¸–ç•Œä¹‹å·”ã€‚",
                    tags: ["æœæ‹œä¹‹æ¡†", "è€åŸå€", "å“ˆåˆ©ç™¼å¡”", "å™´æ³‰"],
                    timeline: [
                        { time: "09:00", activity: "æ­çš„å£«å‰å¾€æœæ‹œä¹‹æ¡†", icon: "ğŸš•", desc: "é–‹å•Ÿæ—…ç¨‹çš„ç¬¬ä¸€ç«™ï¼Œç´„ 15 åˆ†é˜è»Šç¨‹ã€‚" },
                        { time: "10:00", activity: "Dubai Frame (æœæ‹œä¹‹æ¡†)", icon: "ğŸ–¼ï¸", desc: "èµ°åœ¨é€æ˜ç»ç’ƒæ©‹ä¸Šï¼Œå·¦çœ‹èˆŠåŸï¼Œå³çœ‹æ–°åŸã€‚" },
                        { time: "12:00", activity: "åˆé¤ï¼šArabian Tea House", icon: "ğŸ¥", desc: "Al Fahidi åˆ†åº—ã€‚å¿…é» Emirati Breakfast Trayï¼Œè—ç™½é¢¨æ ¼è¶…å¥½æ‹ã€‚" },
                        { time: "14:00", activity: "è€åŸå€æ¼«æ­¥ & Abra éŠèˆ¹", icon: "â›µ", desc: "é€›æ­·å²å€ï¼Œæ­æœ¨èˆ¹éæ²³ (1 AED)ï¼Œé€›é»ƒé‡‘èˆ‡é¦™æ–™å¸‚é›†ã€‚" },
                        { time: "16:00", activity: "å› Aloft é…’åº—æ›è£", icon: "ğŸ¨", desc: "ç¨ä½œä¼‘æ¯ï¼Œæ›ä¸Šé©åˆå»æœ€é«˜å¡”çš„æˆ°è¢ã€‚" },
                        { time: "17:00", activity: "Burj Khalifa (å“ˆåˆ©ç™¼å¡”)", icon: "ğŸŒ†", desc: "å»ºè­°è³¼è²· SKY (Level 148) ç¥¨ï¼Œé¿é–‹äººæ½®ï¼Œåœ¨ VIP Lounge çœ‹å¤•é™½ã€‚" },
                        { time: "19:30", activity: "Dubai Fountain éŸ³æ¨‚å™´æ³‰", icon: "â›²", desc: "åœ¨ Dubai Mall æˆ¶å¤–äººå·¥æ¹–ç•”æ¬£è³éœ‡æ’¼æ°´èˆã€‚" },
                        { time: "20:30", activity: "æ™šé¤ï¼šTime Out Market", icon: "ğŸ½ï¸", desc: "Souk Al Bahar å…§ï¼Œéœ²å°å¯çœ‹å¤œæ™¯ï¼Œé¸æ“‡è±å¯Œã€‚" }
                    ],
                    highlight: {
                        title: "Burj Khalifa (Level 148)",
                        desc: "ä¸–ç•Œæœ€é«˜å»ºç¯‰çš„ VIP é«”é©—ã€‚åœ¨ 555 ç±³é«˜çš„ Lounge äº«ç”¨é»å¿ƒèˆ‡é£²æ–™ï¼Œä¿¯ç°å¤•é™½ä¸‹çš„æœæ‹œï¼Œé¿é–‹åº•å±¤æ“æ“ çš„äººæ½®ã€‚",
                        link: "https://www.burjkhalifa.ae/en/",
                        color: "#C5A065"
                    },
                    dining: {
                        title: "Arabian Tea House",
                        type: "å‚³çµ±é˜¿æ‹‰ä¼¯æ—©åˆé¤",
                        desc: "è€åŸå€çš„ç¶²ç¾åœ°æ¨™ï¼Œè—¤ç·¨æ¤…ã€ç™½è‰²å¸·å¹”èˆ‡è—è‰²çª—æ¡†ï¼Œå½·å½¿ç½®èº«é›»å½±å ´æ™¯ã€‚"
                    },
                    transport: "æœ¬æ—¥æ··åˆäº¤é€šï¼šå»ç¨‹èˆ‡è€åŸå€ç§»å‹•ä½¿ç”¨ Careem/Uber (ç´„ AED 70)ï¼›å‚æ™šå‰å¾€ Dubai Mall å»ºè­°æ­ä¹˜åœ°éµä»¥å…å¡è»Šã€‚"
                },
                {
                    id: 2,
                    title: "Day 2: æ£•æ«šå³¶ååª›é¢¨",
                    vibe: "å…¨çƒæœ€é«˜ 360 åº¦æ³³æ± åˆé¤ï¼Œæ¼«éŠæ£•æ«šå³¶ï¼Œæœ€å¾Œä»¥é«˜ç©ºé¦éŸ†æ™šé¤ä½œçµã€‚",
                    tags: ["Aura Skypool", "å–®è»Œåˆ—è»Š", "Madinat", "CÃ‰ LA VI"],
                    timeline: [
                        { time: "10:30", activity: "St. Regis Gardens", icon: "ğŸŒ¿", desc: "ä½æ–¼ Nakheel Mall å±‹é ‚ï¼ŒAura æ¨“ä¸‹ï¼Œæ¼‚äº®çš„ç©ºä¸­èŠ±åœ’æ•£æ­¥ã€‚" },
                        { time: "12:00", activity: "åˆé¤ï¼šAura Skypool (é ç´„æ™‚æ®µ)", icon: "ğŸŠâ€â™€ï¸", desc: "å®¤å…§ Lounge ç”¨é¤ï¼Œæˆ¶å¤–éœ²å°æ‹ç…§ã€‚äº«å— 360 åº¦æ£•æ«šå³¶å…¨æ™¯ã€‚" },
                        { time: "14:30", activity: "æ­ä¹˜ Palm Monorail", icon: "ğŸš", desc: "å¾ Nakheel Mall æ­åˆ° Atlantisï¼Œæ²¿é€”æ¬£è³æ£•æ«šè‘‰åˆ¥å¢…æ™¯è§€ã€‚" },
                        { time: "16:30", activity: "Madinat Jumeirah å¤åŸå¸‚é›†", icon: "ğŸ›¶", desc: "æ­ä¹˜å‚³çµ±æœ¨èˆ¹éŠé‹æ²³ï¼Œæ‹æ”å¸†èˆ¹é…’åº—çš„æœ€ä½³è§’åº¦ã€‚" },
                        { time: "19:30", activity: "æ™šé¤ï¼šCÃ‰ LA VI", icon: "ğŸ·", desc: "Address Sky View é…’åº—é ‚æ¨“ï¼Œè‘—åçš„é«˜ç©ºé¦éŸ†æ‰“å¡é»ã€‚" }
                    ],
                    highlight: {
                        title: "Aura Skypool Lounge",
                        desc: "ä¸åƒ…æ˜¯æ³³æ± ï¼Œæ›´æ˜¯çµ•ä½³çš„è§€æ™¯å°ã€‚åˆé¤æ™‚æ®µåœ¨ Lounge äº«ç”¨äºå¼æ–™ç†ï¼Œå„ªé›…é¿æš‘ï¼ŒåŒæ™‚æ‹å‡ºä»¤äººç¾¨æ…•çš„å¤§ç‰‡ã€‚",
                        link: "https://auraskypool.com/",
                        color: "#6CB2EB"
                    },
                    dining: {
                        title: "CÃ‰ LA VI",
                        type: "ç•¶ä»£äºæ´²æ–™ç† / Fine Dining",
                        desc: "æ“æœ‰ç„¡æ•µå“ˆåˆ©ç™¼å¡”æ™¯è§€ã€‚æ¨è–¦å˜—è©¦ä»–å€‘çš„æ™šé¤ï¼Œæˆ–è€…é»æ¯é£²æ–™å’Œå°é£Ÿäº«å—æ°›åœã€‚"
                    },
                    transport: "å‰å¾€æ£•æ«šå³¶å»ºè­°ç›´æ¥æ­çš„å£« (ç´„ AED 70-90)ï¼›å³¶ä¸Šç§»å‹•ç”¨å–®è»Œï¼›æ™šä¸Šå›ç¨‹å¯æ­åœ°éµã€‚"
                },
                {
                    id: 3,
                    title: "Day 3: é˜¿å¸ƒæ‰æ¯”æ–‡åŒ–ä¸€æ—¥éŠ",
                    vibe: "ç´”ç™½æ¸…çœŸå¯ºçš„èŠåš´ï¼Œé‡‘ç®”å’–å•¡çš„å¥¢è¯ï¼Œç¾…æµ®å®®çš„è—è¡“å…‰å½±ã€‚",
                    tags: ["å¤§æ¸…çœŸå¯º", "çš‡å®®é…’åº—", "ç¾…æµ®å®®"],
                    timeline: [
                        { time: "09:30", activity: "å‡ºç™¼å‰å¾€é˜¿å¸ƒæ‰æ¯”", icon: "ğŸš", desc: "åŒ…è»Šæˆ–åƒåŠ ç²¾ç·»å°åœ˜ï¼Œè»Šç¨‹ç´„ 1.5 å°æ™‚ã€‚" },
                        { time: "11:00", activity: "Sheikh Zayed Grand Mosque", icon: "ğŸ•Œ", desc: "æ¥µè‡´å¥¢è¯çš„ç™½è‰²æ®¿å ‚ã€‚è«‹å‹™å¿…åš´æ ¼éµå®ˆæœè£è¦å®šã€‚" },
                        { time: "13:30", activity: "ä¸‹åˆèŒ¶ï¼šLe CafÃ© (çš‡å®®é…’åº—)", icon: "â˜•", desc: "é€²å…¥å…«æ˜Ÿç´šé…‹é•·çš‡å®®é…’åº—ï¼Œå“åšæ‹›ç‰Œé‡‘ç®”å’–å•¡ (Gold Cappuccino)ã€‚" },
                        { time: "16:00", activity: "Louvre Abu Dhabi (ç¾…æµ®å®®)", icon: "ğŸ¨", desc: "æ¬£è³å»ºç¯‰å¤§å¸« Jean Nouvel è¨­è¨ˆçš„ã€Œå…‰ä¹‹é›¨ã€ç©¹é ‚ã€‚" },
                        { time: "20:00", activity: "è¿”å›æœæ‹œ", icon: "ğŸ¨", desc: "å›åˆ° Aloft ä¼‘æ¯ã€‚æ™šé¤å¯å«å¤–è³£ (æ¨è–¦ Al Baik ç‚¸é›)ã€‚" }
                    ],
                    highlight: {
                        title: "Sheikh Zayed Grand Mosque",
                        desc: "é˜¿è¯é…‹æœ€å¤§çš„æ¸…çœŸå¯ºï¼Œæ¼¢ç™½ç‰å»ºç¯‰èˆ‡æ–½è¯æ´›ä¸–å¥‡æ°´æ™¶åŠç‡ˆã€‚é€™è£¡æ˜¯å±•ç¾ä¼Šæ–¯è˜­å»ºç¯‰ç¾å­¸çš„æ¥µè‡´ã€‚",
                        link: "https://www.szgmc.gov.ae/en/",
                        color: "#FFFFFF"
                    },
                    dining: {
                        title: "Le CafÃ© @ Emirates Palace",
                        type: "è±ªè¯ä¸‹åˆèŒ¶",
                        desc: "é‡‘ç®”å’–å•¡æ˜¯é€™è£¡çš„æ¨™èªŒã€‚é›–ç„¶åƒ¹æ ¼ä¸è² (ç´„ AED 75)ï¼Œä½†é€™æ˜¯åƒè§€çš‡å®®é…’åº—çš„å…¥å ´åˆ¸ã€‚"
                    },
                    transport: "è·¨åŸå¸‚ç§»å‹•å¼·çƒˆå»ºè­°åŒ…è»Šæˆ–è·Ÿåœ˜ï¼Œçœå»è½‰è»Š 3-4 å°æ™‚çš„ç—›è‹¦ã€‚"
                },
                {
                    id: 4,
                    title: "Day 4: ä¸ƒæ˜Ÿç´šé«”é©—èˆ‡æ²™æ¼ å‚³å¥‡",
                    vibe: "æ—©ä¸Šæ¢è¨ªå¸†èˆ¹é…’åº—å…§éƒ¨ï¼Œä¸‹åˆé€²å…¥æ²™æ¼ ä¿è­·å€äº«å—å¯§éœã€‚",
                    tags: ["å¸†èˆ¹é…’åº—", "æ²™æ¼ è¡æ²™", "Land Rover"],
                    timeline: [
                        { time: "09:30", activity: "Inside Burj Al Arab", icon: "â›µ", desc: "åƒåŠ å°è¦½åœ˜ï¼Œåƒè§€çš‡å®¶å¥—æˆ¿ï¼Œä¸€çªºæ¥µè‡´å¥¢è¯çš„å…§éƒ¨ã€‚" },
                        { time: "12:00", activity: "åˆé¤ï¼šå‘¨é‚Šç°¡é¤", icon: "ğŸ´", desc: "åœ¨ Madinat Jumeirah å¿«é€Ÿç”¨é¤ï¼Œç„¶å¾Œå›é…’åº—/é›†åˆé»ã€‚" },
                        { time: "14:30", activity: "æ²™æ¼ è¡æ²™ï¼šPlatinum Heritage", icon: "ğŸŒµ", desc: "å°ˆè»Šæ¥é€ã€‚æ­ä¹˜å¾©å¤ Land Rover é€²å…¥ä¿è­·å€ã€‚" },
                        { time: "17:00", activity: "æ²™æ¼ é‡ç”Ÿå‹•ç‰©èˆ‡å¤•é™½", icon: "ğŸª", desc: "è§€è³ç¾šç¾Šï¼Œé«”é©—çµé·¹ç§€ï¼Œåœ¨æ²™æ¼ ä¸­çœ‹æ—¥è½ã€‚" },
                        { time: "19:00", activity: "è²éƒ½å› ç‡Ÿåœ°æ™šé¤", icon: "ğŸ¥˜", desc: "å‚³çµ±é˜¿è¯é…‹æ–™ç†ï¼Œæ²’æœ‰åµé›œéŸ³æ¨‚ï¼Œåªæœ‰æ˜Ÿç©ºèˆ‡æ–‡åŒ–ã€‚" },
                        { time: "21:30", activity: "è¿”å›é…’åº—", icon: "ğŸš•", desc: "å°ˆè»Šé€å› Aloftã€‚" }
                    ],
                    highlight: {
                        title: "Platinum Heritage Safari",
                        desc: "ä¸åŒæ–¼ä¸€èˆ¬çš„é£†æ²™åœ˜ï¼Œé€™æ˜¯æ³¨é‡ç”Ÿæ…‹èˆ‡æ–‡åŒ–çš„è±ªè¯é«”é©—ã€‚å¾©å¤è»Šã€ç§äººç‡Ÿåœ°ã€ç²¾ç·»é¤é»ï¼Œéå¸¸é©åˆå¥³ç”Ÿã€‚",
                        link: "https://www.platinum-heritage.com/",
                        color: "#D2B48C"
                    },
                    dining: {
                        title: "æ²™æ¼ ç‡Ÿåœ°æ™šé¤",
                        type: "é˜¿è¯é…‹å‚³çµ±æ–™ç†",
                        desc: "åœ¨æ˜Ÿç©ºä¸‹äº«ç”¨ç‡‰é§±é§è‚‰ (å¯é¸)ã€çƒ¤è‚‰èˆ‡å‚³çµ±ç”œé»ï¼Œæ°£æ°›æ»¿åˆ†ã€‚"
                    },
                    transport: "å…¨å¤©ä¸»è¦ä¾è³´æ´»å‹•ä¾›æ‡‰å•†çš„æ¥é€æˆ–çš„å£«ã€‚"
                },
                {
                    id: 5,
                    title: "Day 5: èŠ±æµ·èˆ‡ç’°éŠä¸–ç•Œ",
                    vibe: "å­£ç¯€é™å®šçš„å¥‡è¹ŸèŠ±åœ’ï¼Œå“åšç¬¬ä¸€åç¾é£Ÿï¼Œå‚æ™šåœ¨åœ°çƒæ‘æƒè²¨ã€‚",
                    tags: ["å¥‡è¹ŸèŠ±åœ’", "3 Fils", "åœ°çƒæ‘"],
                    timeline: [
                        { time: "10:00", activity: "Dubai Miracle Garden", icon: "ğŸŒ¸", desc: "æ•¸åƒè¬æœµé®®èŠ±çµ„æˆçš„å·¨å‹é€ å‹ï¼Œé£›æ©Ÿã€åŸå ¡ï¼Œè‰²å½©ç¹½ç´›ã€‚" },
                        { time: "13:00", activity: "åˆé¤ï¼š3 Fils", icon: "ğŸ£", desc: "å‰å¾€ Jumeirah Fishing Harbourï¼Œå“åšæœæ‹œæ’åç¬¬ä¸€çš„ä¼‘é–’é¤å»³ã€‚" },
                        { time: "16:00", activity: "Global Village (åœ°çƒæ‘)", icon: "ğŸŒ", desc: "å·¨å¤§çš„æˆ¶å¤–åšè¦½æœƒï¼Œå„åœ‹å±•é¤¨ã€å¸‚é›†ã€éŠæ¨‚è¨­æ–½ã€‚" },
                        { time: "18:00", activity: "è³¼ç‰©èˆ‡æ™šé¤", icon: "ğŸ›ï¸", desc: "è³¼è²·è‘‰é–€èœ‚èœœã€å …æœï¼Œä¸¦åœ¨åœ’å€å…§å“åšå„åœ‹è·¯é‚Šæ”¤ã€‚" },
                        { time: "21:00", activity: "è¿”å›é…’åº—", icon: "ğŸš•", desc: "è»Šç¨‹è¼ƒé ï¼Œç´„ 30-40 åˆ†é˜ã€‚" }
                    ],
                    highlight: {
                        title: "Global Village",
                        desc: "é›†çµå…¨ä¸–ç•Œæ–‡åŒ–çš„å˜‰å¹´è¯ã€‚æ˜¯è³¼è²·ç‰¹è‰²ä¼´æ‰‹ç¦®ï¼ˆç•ªç´…èŠ±ã€é¦™æ–™ã€æŠ«è‚©ï¼‰å’Œé«”é©—åº¶æ°‘ç¾é£Ÿçš„æœ€ä½³åœ°é»ã€‚",
                        link: "https://www.globalvillage.ae/en/",
                        color: "#E57373"
                    },
                    dining: {
                        title: "3 Fils",
                        type: "ç¾ä»£äºæ´² / æ—¥å¼",
                        desc: "ä¸æ¥å—è¨‚ä½ï¼Œå¿…é ˆæ’éšŠã€‚å¿…é»å’Œç‰›æ¼¢å ¡èˆ‡å‰µæ„å£½å¸ï¼Œå°±åœ¨æ¼æ¸¯é‚Šï¼Œé¢¨æ™¯æ„œæ„ã€‚"
                    },
                    transport: "æœ¬æ—¥æ™¯é»çš†ç„¡åœ°éµç›´é”ï¼Œå…¨ç¨‹å»ºè­°ä½¿ç”¨çš„å£« (Careem/Uber)ã€‚"
                },
                {
                    id: 6,
                    title: "Day 6: æœªä¾†èˆ‡å‘Šåˆ¥",
                    vibe: "æ‚ é–’çš„æœ€å¾Œä¸€æ—¥ï¼Œè¦‹è­‰æœªä¾†åšç‰©é¤¨çš„ç§‘å¹»æ„Ÿï¼Œå™´æ³‰ç•”çš„æµªæ¼«æ™šé¤ã€‚",
                    tags: ["æœªä¾†åšç‰©é¤¨", "Opso", "Thiptara", "å‘Šåˆ¥"],
                    timeline: [
                        { time: "09:30", activity: "Aloft é…’åº—æ™‚å…‰", icon: "ğŸŠ", desc: "ç¡åˆ°è‡ªç„¶é†’ï¼Œäº«ç”¨æ³³æ± èˆ‡æ²³æ™¯æ—©é¤ï¼Œæ•´ç†è¡Œæã€‚" },
                        { time: "12:30", activity: "åˆé¤ï¼šOpso (Dubai Mall)", icon: "ğŸ¥—", desc: "æ­åœ°éµå» Mallï¼Œåœ¨æ™‚å°šçš„åœ°ä¸­æµ·é¤å»³ç”¨é¤ï¼Œæœ€å¾Œè£œè²¨ã€‚" },
                        { time: "14:30", activity: "Museum of the Future", icon: "ğŸ›ï¸", desc: "æ­åœ°éµè‡³ Emirates Towersã€‚åƒè§€é€™åº§ã€Œæ´»çš„åšç‰©é¤¨ã€ã€‚" },
                        { time: "17:00", activity: "æœ€å¾Œæ¼«æ­¥ Downtown", icon: "ğŸš¶â€â™€ï¸", desc: "å›åˆ° Souk Al Bahar é™„è¿‘ï¼Œç­‰å¾…å¤œå¹•é™è‡¨ã€‚" },
                        { time: "19:30", activity: "å‘Šåˆ¥æ™šé¤ï¼šThiptara", icon: "ğŸ›", desc: "Palace Downtown å…§ã€‚ååœ¨å™´æ³‰æ¹–ç•”åƒæ³°åœ‹èœï¼Œæµªæ¼«æ»¿åˆ†ã€‚" },
                        { time: "22:00", activity: "å›é…’åº—ä¼‘æ¯", icon: "ğŸŒ™", desc: "æ•´ç†å¥½æ‰€æœ‰æˆ°åˆ©å“ï¼Œæº–å‚™éš”å¤©ä¸€æ—©å»æ©Ÿå ´ã€‚" }
                    ],
                    highlight: {
                        title: "Museum of the Future",
                        desc: "è¢«è­½ç‚ºä¸–ä¸Šæœ€ç¾å»ºç¯‰ã€‚å»ºè­°é ç´„ä¸‹åˆå ´æ¬¡ï¼Œåƒè§€å®Œå‡ºä¾†å‰›å¥½èƒ½æ¬£è³éŠ€è‰²å»ºç¯‰äº®èµ·æ›¸æ³•ç‡ˆå…‰çš„é­”å¹»æ™‚åˆ»ã€‚",
                        link: "https://museumofthefuture.ae/en",
                        color: "#A0AEC0"
                    },
                    dining: {
                        title: "Thiptara",
                        type: "æ³°åœ‹çš‡å®¤æ–™ç†",
                        desc: "æ„ç‚ºã€Œæ°´ä¸Šçš„é­”åŠ›ã€ã€‚åœ¨ Dubai Fountain æ—é‚Šç”¨é¤ï¼Œè¿‘è·é›¢æ„Ÿå—å™´æ³‰çš„éœ‡æ’¼ã€‚"
                    },
                    transport: "ä¸»è¦ä½¿ç”¨åœ°éµ (Aloft <-> Downtown)ï¼Œæ™šé¤å¾Œå›é…’åº—å¯æ­çš„å£«ã€‚"
                },
                {
                    id: 7,
                    title: "Day 7: ç”œèœœè¿”å®¶",
                    vibe: "å¸¶è‘—æ»¿æ»¿å›æ†¶ï¼Œè¼•é¬†å‰å¾€æ©Ÿå ´ã€‚",
                    tags: ["æ©Ÿå ´", "è¿”ç¨‹"],
                    timeline: [
                        { time: "æ—©æ™¨", activity: "å‰å¾€æ©Ÿå ´ (DXB)", icon: "âœˆï¸", desc: "å¾ Aloft æ­çš„å£«ç´„ 15 åˆ†é˜æŠµé” T1 æˆ– T3ã€‚å»ºè­°èµ·é£›å‰ 3 å°æ™‚åˆ°é”ã€‚" }
                    ],
                    highlight: {
                        title: "Dubai International Airport (DXB)",
                        desc: "ä¸–ç•Œç´šæ¨ç´æ©Ÿå ´ã€‚å¦‚æœæ™‚é–“å……è£•ï¼Œå…ç¨…åº—ä¹Ÿæ˜¯æœ€å¾Œè¡åˆºçš„å¥½åœ°æ–¹ã€‚",
                        link: "#",
                        color: "#4A4A4A"
                    },
                    dining: {
                        title: "æ©Ÿå ´ç¾é£Ÿ",
                        type: "å’–å•¡è¼•é£Ÿ",
                        desc: "Shake Shack, Costa, Paul ç­‰å¤šç¨®é¸æ“‡ã€‚"
                    },
                    transport: "çš„å£« (Careem) æœ€æ–¹ä¾¿ï¼Œç´„ AED 15-25ã€‚"
                }
            ]
        };

        // --- Core Logic ---
        let currentDayId = 1;

        function initApp() {
            renderDayTabs();
            renderDayContent(currentDayId);
            initChart();
        }

        function renderDayTabs() {
            const nav = document.getElementById('dayNav');
            nav.innerHTML = '';
            tripData.days.forEach(day => {
                const btn = document.createElement('button');
                btn.className = `px-5 py-2 mr-2 text-sm font-medium transition-colors whitespace-nowrap rounded-full hover:bg-gray-50 focus:outline-none ${day.id === currentDayId ? 'active-tab bg-yellow-50/50' : 'text-gray-500'}`;
                btn.textContent = `Day ${day.id}`;
                btn.onclick = () => {
                    currentDayId = day.id;
                    renderDayTabs(); // Re-render to update styling
                    renderDayContent(day.id);
                };
                nav.appendChild(btn);
            });
        }

        function renderDayContent(id) {
            const day = tripData.days.find(d => d.id === id);
            const contentDiv = document.getElementById('dayContent');
            
            // Simple fade effect
            contentDiv.style.opacity = '0.5';
            
            setTimeout(() => {
                // Update Headers
                document.getElementById('dayTitle').textContent = day.title;
                document.getElementById('dayVibe').textContent = `"${day.vibe}"`;
                
                // Update Tags
                const tagsContainer = document.getElementById('dayTags');
                tagsContainer.innerHTML = day.tags.map(tag => 
                    `<span class="px-2 py-1 bg-gray-100 text-xs text-gray-600 rounded-md">#${tag}</span>`
                ).join('');

                // Update Timeline
                const timelineContainer = document.getElementById('timelineContainer');
                // Keep the line, remove items
                timelineContainer.innerHTML = '<div class="timeline-line"></div>';
                
                day.timeline.forEach(item => {
                    const itemDiv = document.createElement('div');
                    itemDiv.className = 'relative z-10 flex items-start';
                    itemDiv.innerHTML = `
                        <div class="flex-shrink-0 w-8 h-8 rounded-full bg-white border-2 border-[#C5A065] flex items-center justify-center text-sm shadow-sm mr-4 mt-1">
                            ${item.icon}
                        </div>
                        <div class="flex-grow bg-gray-50 rounded-lg p-3 hover:bg-yellow-50 transition border border-transparent hover:border-yellow-100">
                            <div class="flex justify-between items-baseline mb-1">
                                <h4 class="font-bold text-gray-800 text-sm">${item.activity}</h4>
                                <span class="text-xs font-mono text-gray-500 bg-white px-1 rounded">${item.time}</span>
                            </div>
                            <p class="text-xs text-gray-600">${item.desc}</p>
                        </div>
                    `;
                    timelineContainer.appendChild(itemDiv);
                });

                // Update Highlight
                if (day.highlight) {
                    document.getElementById('highlightTitle').textContent = day.highlight.title;
                    document.getElementById('highlightDesc').textContent = day.highlight.desc;
                    document.getElementById('highlightLink').href = day.highlight.link;
                    document.getElementById('highlightLink').style.display = 'block';
                    
                    // Simulated color block for image
                    const placeholder = document.getElementById('highlightImgPlaceholder');
                    placeholder.style.backgroundColor = day.highlight.color || '#ddd';
                    placeholder.style.color = 'white';
                    placeholder.innerHTML = `<span class="text-2xl drop-shadow-md">${day.highlight.title.split(' ')[0]}</span>`;
                } else {
                    document.getElementById('highlightTitle').textContent = "è¿”ç¨‹æ—¥";
                    document.getElementById('highlightDesc').textContent = "ç¥æ—…é€”æ„‰å¿«ï¼";
                    document.getElementById('highlightLink').style.display = 'none';
                }

                // Update Dining
                if (day.dining) {
                    document.getElementById('diningTitle').textContent = day.dining.title;
                    document.getElementById('diningType').textContent = day.dining.type;
                    document.getElementById('diningDesc').textContent = day.dining.desc;
                    document.getElementById('diningTitle').parentElement.parentElement.style.display = 'block';
                } else {
                    document.getElementById('diningTitle').parentElement.parentElement.style.display = 'none';
                }

                // Update Transport
                document.getElementById('transportTip').textContent = day.transport;

                contentDiv.style.opacity = '1';
            }, 150);
        }

        // --- Chart.js Logic ---
        function initChart() {
            const ctx = document.getElementById('budgetChart').getContext('2d');
            
            // Estimated breakdown based on report:
            // Total: ~4700 AED
            // Tickets/Activities: ~1800 AED
            // Food: ~2200 AED
            // Transport: ~700 AED
            
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['é–€ç¥¨èˆ‡é«”é©— (38%)', 'é¤é£²ç¾é£Ÿ (47%)', 'äº¤é€š (15%)'],
                    datasets: [{
                        data: [1800, 2200, 700],
                        backgroundColor: [
                            '#D4AF37', // Gold (Tickets)
                            '#E8E1D5', // Sand (Food)
                            '#4A4A4A'  // Dark (Transport)
                        ],
                        borderWidth: 0,
                        hoverOffset: 10
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '70%',
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                font: { family: "'Noto Sans TC', sans-serif", size: 12 },
                                usePointStyle: true,
                                padding: 20
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    if (label) {
                                        label = label.split(' (')[0] + ': ';
                                    }
                                    if (context.parsed !== null) {
                                        label += context.parsed + ' AED';
                                    }
                                    return label;
                                }
                            },
                            backgroundColor: 'rgba(255, 255, 255, 0.95)',
                            titleColor: '#333',
                            bodyColor: '#666',
                            borderColor: '#eee',
                            borderWidth: 1,
                            padding: 10,
                            displayColors: true
                        }
                    }
                }
            });
        }

        // Toggle Tips
        function toggleTip(id) {
            const el = document.getElementById(id);
            if (el.classList.contains('hidden')) {
                el.classList.remove('hidden');
            } else {
                el.classList.add('hidden');
            }
        }

        // Init
        document.addEventListener('DOMContentLoaded', initApp);

    </script>
</body>
</html>

